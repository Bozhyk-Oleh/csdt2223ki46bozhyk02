name: CourseWork

on: [workflow_dispatch]

jobs:
  build:

    runs-on: windows-latest


    steps:
     - uses: actions/checkout@v3
     - name: Setup .NET
     
       uses: microsoft/setup-msbuild@v1
     - name: Setup NuGet
       uses: NuGet/setup-nuget@v1.1.1
       
     - name: Setup .NET Core SDK
       uses: actions/setup-dotnet@v3
       with:
        dotnet-version: '6.0'
       
     - name: Build script
       run:  sh CI/Build.sh
            
     - name: Test script
       run:  sh CI/Test.sh
  

     - name: Upload build task 4
       uses: actions/upload-artifact@v3
       with:
        name: task_4_Bozhyk-Oleh_ki_46
        path: Client\bin\Debug
        
     - name: Upload build task 5
       uses: actions/upload-artifact@v3
       with:
          name: task5_Bozhyk-Oleh_ki_46
          path: WebClient\bin\Debug
          
     - name: Upload build CourseWork
       uses: actions/upload-artifact@v3
       with:
        name: CourseWork_Bozhyk-Oleh_ki_46
        path: SeaBattle\Sea Battle\bin\Debug

